var __sectokenselect=function(c){var q=function(f){function p(a){if(!a)return alert("UI load error."),!1;var b=document.createElement("div");document.body.insertBefore(b,document.body.firstChild);b.innerHTML=a;return!0}function e(a){var b;b=null;b=f.args.list;for(var d=f.args.list.length,e=[],h=0;h<d;h++){var n=[];n[0]=b[h].name;n[1]=b[h].driver;n[2]=b[h].passage;n[3]=b[h].index;e[h]=n}b={list:e};k=c.loadUI("gridlist");l=k({type:"driverslist",tblid:"us-sectoken-select-tbl-list",tbltitleid:"us-sectoken-select-tbl-list-th",titlelistid:"us-sectoken-select-grid-head-div",titlerowid:"us-sectoken-select-list-title-row",titleelementid:"us-sectoken-select-list-title-element",titledividerid:"us-sectoken-select-list-title-divider",titlelistcn:"us-layout-sectoken-select-grid-head-div",titlerowcn:"us-layout-sectoken-select-grid-head-row",titleelementcn:"us-layout-sectoken-select-grid-row-title-element",titledividercn:"us-layout-sectoken-select-grid-row-title-divider",tblbodyid:"us-sectoken-select-tbl-list-td",datalistid:"us-sectoken-select-grid-body-div",datarowid:"us-sectoken-select-list-body-row",dataelementid:"us-sectoken-select-list-data-element",datalistcn:"us-layout-sectoken-select-grid-body-div",datarowcn:"us-layout-sectoken-select-grid-body-row",dataelementcn:"us-layout-sectoken-select-grid-row-data-element",dataselectcn:"us-layout-sectoken-select-grid-row-data-selected-element"});d=!0;"opera"==c.browserName&&(d=!1);b?l.drawList(a,a.length,b.list,b.list.length,g+2,d):l.drawList(a,a.length,null,0,g+2,d)}var d=function(){var a;a=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");a.open("GET",c.ESVS.SRCPath+"unisignweb/rsrc/layout/sectokenselect.html?version="+c.ver,!1);a.send(null);return a.responseText},m=function(){var a;a=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");a.open("GET",c.ESVS.SRCPath+"unisignweb/rsrc/lang/sectokenselect_"+c.ESVS.Language+".js?version="+c.ver,!1);a.send(null);return a.responseText},k=null,l=null,g=c.ESVS.TabIndex;return function(){var a=eval(d),b=eval(eval(m)());p(a());a=document.getElementById("us-sectoken-select-lbl-title");a.appendChild(document.createTextNode(b.IDS_SECTOKEN_SELECTION));a.setAttribute("tabindex",g,0);a=document.getElementById("us-sectoken-select-lbl-notice");a.innerHTML=b.IDS_SECTOKEN_NOTICE;a.setAttribute("tabindex",g+1,0);a=document.getElementById("us-sectoken-select-lbl-notice-txt");a.innerHTML=b.IDS_SECTOEKN_SUGGESTION;a.setAttribute("tabindex",g+3,0);a=document.getElementById("us-sectoken-select-install-driver-btn");a.setAttribute("value",b.IDS_SECTOKEN_DRIVER_INSTALL,0);a.setAttribute("title",b.IDS_SECTOKEN_DRIVER_INSTALL+b.IDS_BUTTON,0);a.setAttribute("tabindex",g+4,0);a.onclick=function(){"firefox"==c.browserName?window.open("http://rootca.or.kr/kor/hsm/hsm.jsp","hsm_url","scrollbars=1"):window.open("http://rootca.or.kr/kor/hsm/hsm.jsp");this.focus()};a=document.getElementById("us-sectoken-select-confirm-btn");a.setAttribute("value",b.IDS_CONFIRM,0);a.setAttribute("title",b.IDS_CONFIRM+b.IDS_BUTTON,0);a.setAttribute("tabindex",g+5,0);a.onclick=function(){l.restoreOnMouseEvent();var a=f.args.list,d=f.args.list.length;if(0>=d)c.uiUtil().msgBox(b.IDS_MSGBOX_ERROR_NO_SELECTED_DRIVER);else{for(var e=!1,g=parseInt(l.selectedIndex()),k=0;k<d;k++)if(a[k].index===g){e="invalid"==a[k].validity?!1:!0;break}if(!1!=e||!1!=confirm(b.IDS_MSGBOX_CONFIRM_TRUSTLESS_DRIVER))f.onConfirm(g)}};a=document.getElementById("us-sectoken-select-cancel-btn");a.setAttribute("value",b.IDS_CANCEL,0);a.setAttribute("title",b.IDS_CANCEL+b.IDS_BUTTON,0);a.setAttribute("tabindex",g+6,0);a.onclick=function(){l.restoreOnMouseEvent();f.onCancel()};a=document.getElementById("us-sectoken-select-cls-img-btn");a.setAttribute("title",b.IDS_SECTOKEN_SELECTION_CLOSE,0);a.setAttribute("tabindex",g+7,0);a.onclick=function(){l.restoreOnMouseEvent();f.onCancel()};document.getElementById("us-sectoken-select-cls-btn-img").setAttribute("src",c.ESVS.SRCPath+"unisignweb/rsrc/img/x-btn.png",0);e([{title:b.IDS_SECTOKEN_PRODUCT_NAME},{title:b.IDS_SECTOKEN_DRIVER_NAME},{title:b.IDS_SECTOKEN_EXAMINATION_PASSAGE}]);return document.getElementById("us-div-sectoken-select")}()};return function(f){var p=c.uiLayerLevel,e=c.uiUtil().getOverlay(p),d=q({type:f.type,args:f.args,onConfirm:f.onConfirm,onCancel:f.onCancel});d.style.zIndex=p+1;document.body.insertBefore(e,document.body.firstChild);var m=window.onresize;return{show:function(){draggable(d,document.getElementById("us-div-sectoken-select-title"));e.style.display="block";c.uiUtil().offsetResize(d);window.onresize=function(){c.uiUtil().offsetResize(d);m&&m()};c.uiLayerLevel+=10;c.ESVS.TabIndex+=30;setTimeout(function(){var c=d.getElementsByTagName("p");if(0<c.length)for(var e=0;e<c.length;e++)"us-sectoken-select-lbl-title"==c[e].id&&c[e].focus()},10)},hide:function(){e.style.display="none";d.style.display="none"},dispose:function(){window.onresize=function(){m&&m()};d.parentNode.parentNode.removeChild(d.parentNode);e.parentNode.removeChild(e);c.uiLayerLevel-=10;c.ESVS.TabIndex-=30}}}};