!function(e,t,n,o){"use strict";function a(e,t){return e[t]===o?m[t]:e[t]}function i(){var e=t.pageYOffset;return e===o?v.scrollTop:e}function l(e,t){var n=m["on"+e];n&&(C(n)?n.call(t[0]):(n.addClass&&t.addClass(n.addClass),n.removeClass&&t.removeClass(n.removeClass))),t.trigger("lazy"+e,[t]),c()}function r(t){l(t.type,e(this).off(h,r))}function s(n){if(E.length){n=n||m.forceLoad,b=1/0;var o,a,s=i(),d=t.innerHeight||v.clientHeight,c=t.innerWidth||v.clientWidth;for(o=0,a=E.length;o<a;o++){var u,f=E[o],y=f[0],p=f[A],w=!1,I=n||z(y,g)<0;if(e.contains(v,y)){if(n||!p.visibleOnly||y.offsetWidth||y.offsetHeight){if(!I){var T=y.getBoundingClientRect(),B=p.edgeX,L=p.edgeY;I=(u=T.top+s-L-d)<=s&&T.bottom>-L&&T.left<=c+B&&T.right>-B}if(I){f.on(h,r),l("show",f);var X=p.srcAttr,k=C(X)?X(f):y.getAttribute(X);k&&(y.src=k),w=!0}else u<b&&(b=u)}}else w=!0;w&&(z(y,g,0),E.splice(o--,1),a--)}a||l("complete",e(v))}}function d(){I>1?(I=1,s(),setTimeout(d,m.throttle)):I=0}function c(e){E.length&&(e&&"scroll"===e.type&&e.currentTarget===t&&b>=i()||(I||setTimeout(d,0),I=2))}function u(){p.lazyLoadXT()}function f(){s(!0)}var A="lazyLoadXT",g="lazied",h="load error",v=n.documentElement||n.body,m={autoInit:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:t.onscroll===o||!!t.operamini||!v.getBoundingClientRect,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"lazyloadall",oninit:{removeClass:"lazy"},onshow:{addClass:"lazy-hidden"},onload:{removeClass:"lazy-hidden",addClass:"lazy-loaded"},onerror:{removeClass:"lazy-hidden"},checkDuplicates:!0},y={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},p=e(t),C=e.isFunction,w=e.extend,z=e.data||function(t,n){return e(t).data(n)},E=[],b=0,I=0;e[A]=w(m,y,e[A]),e.fn[A]=function(n){var o,i=a(n=n||{},"blankImage"),r=a(n,"checkDuplicates"),s=a(n,"scrollContainer"),d=a(n,"show"),u={};e(s).on("scroll",c);for(o in y)u[o]=a(n,o);return this.each(function(o,a){if(a===t)e(m.selector).lazyLoadXT(n);else{var s=r&&z(a,g),f=e(a).data(g,d?-1:1);if(s)return void c();i&&"IMG"===a.tagName&&!a.src&&(a.src=i),f[A]=w({},u),l("init",f),E.push(f),c()}})},e(n).ready(function(){l("start",p),p.on(m.updateEvent,c).on(m.forceEvent,f),e(n).on(m.updateEvent,c),m.autoInit&&(p.on(m.loadEvent,u),u())})}(window.jQuery||window.Zepto||window.$,window,document);